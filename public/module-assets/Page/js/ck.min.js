var image_up_route=$("#image_up").val();CKEDITOR.replace("details_news",{filebrowserUploadUrl:image_up_route,filebrowserUploadMethod:"form"}),$(document).ready((function(){$("#slug").hide(),$(".page_slug a").on("click",(function(){$("#slug").toggle("show")})),$("#tags").tagsinput(),$("#pageDetailsNonModalForm").submit((function(e){for(var instance in e.preventDefault(),CKEDITOR.instances)CKEDITOR.instances[instance].updateElement();var url=$("#pageDetailsNonModalForm").attr("action"),csrf=$('meta[name="csrf-token"]').attr("content");$.ajaxSetup({headers:{"X-CSRF-TOKEN":csrf}});var formData=new FormData($("#pageDetailsNonModalForm")[0]);$.ajax({type:"POST",url:url,data:formData,cache:!1,contentType:!1,processData:!1,success:function(data){if(0==data.error){for(var instance in CKEDITOR.instances)CKEDITOR.instances[instance].setData("");$("#tags").tagsinput("removeAll"),$("#pageDetailsNonModalForm").trigger("reset"),toastr.success(data.msg,"Success",{timeOut:5e3})}else toastr.error(data.msg,"Error",{timeOut:5e3})},error:function(data){$.each(data.responseJSON.errors,(function(field_name,error){for(var instance in toastr.error(error,"Error:"+field_name,{timeOut:5e3}),CKEDITOR.instances)CKEDITOR.instances[instance].setData("");$("#tags").tagsinput("removeAll"),$("#pageDetailsNonModalForm").trigger("reset")}))}})})),$("#pageDetailsNonModalUpdateForm").submit((function(e){for(var instance in e.preventDefault(),CKEDITOR.instances)CKEDITOR.instances[instance].updateElement();var url=$("#pageDetailsNonModalUpdateForm").attr("action"),csrf=$('meta[name="csrf-token"]').attr("content");$.ajaxSetup({headers:{"X-CSRF-TOKEN":csrf}});var formData=new FormData($("#pageDetailsNonModalUpdateForm")[0]);$.ajax({type:"POST",url:url,data:formData,cache:!1,contentType:!1,processData:!1,success:function(data){0==data.error?toastr.success(data.msg,"Success",{timeOut:5e3}):toastr.error(data.msg,"Error",{timeOut:5e3})},error:function(response){let data=response.responseJSON;data.message&&toastr.error(data.message,data.title),$.each(data.errors,(function(field_name,error){toastr.error(error,"Error:"+field_name,{timeOut:5e3})}))}})}))}));